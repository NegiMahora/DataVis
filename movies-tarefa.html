<!DOCTYPE html> 
<html> 
    <head> 
        <meta http-equiv="content-type" content="text/html; charset=utf-8" /> 
        <title> Gráfico de Barras </title> 
        <!-- Inclusões das bibliotecas JavaScript para o Highcharts
 --> 
        <script src="https://code.jquery.com/jquery-1.12.0.min.js"></script> 
        <script src="http://code.highcharts.com/highcharts.js"></script>
        <script> 
			$(function () {  
				$('#container').highcharts({
					chart: {type:'bar'}, 
					title: {text: 'Média das notas dadas de acordo com o gênero'}, 
					xAxis: {title: {text:'Gênero'}, categories: ['Western','Musical','Biography','Biopic','Documentary','Fantasy','Thriller','Animation','Romance','Drama','Adventure','Crime','Action','Comedy','Mystery','Horror','Sci-fi']}, 
					yAxis: {title: {text: 'Nota Média'}},
					tooltip: {
    						formatter: function() {
        						return 'A nota média da categoria <b>' + this.x + '</b> é <b>' + this.y + '</b>';
    						}
					},
					series:
					[
						{data: [85.00,82.67,74.83,73.00,72.20,72.00,65.71,65.65,65.45,64.36,62.72,61.19,58.86,56.09,55.00,48.38,43.00]}
					] 
				});
				$('#container2').highcharts({
					chart: {type:'line'}, 
					title: {text: 'Arrecadação de Filmes na Primeira Semana'}, 
					xAxis: {categories: []}, 
					yAxis: {title: {text: 'Valor Arrecadado'}}, 
					$.get('data.csv', function(data) {
					    // Split the lines
					    var lines = data.split('\n');
					    // Iterate over the lines and add categories or series
					    $.each(lines, function(lineNo, line) {
					        var items = line.split(',');
					        if(lineNo>0)
					        {
					            options.xAxis.categories.push(items[6]); //set first column from CSV as categorie
					            options.series[0].data.push(parseFloat(items[11])); //set second column from CSV as point value
					        }
					
					    });
					
					    // Create the chart
					    var chart = new Highcharts.Chart(options);
					});
				}); 
			});
		</script>

    </head> 
    <body> 
    	<div id="container" style="width:100%; height:400px;"></div>
    	<div id="container2" style="width:100%; height:400px;"></div>
	</body> 
</html>
